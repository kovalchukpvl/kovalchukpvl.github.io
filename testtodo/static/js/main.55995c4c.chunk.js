(this.webpackJsonptodo=this.webpackJsonptodo||[]).push([[0],[,,,,,,,function(t,e,n){t.exports={listItem:"TodoItem_listItem__28gcM",btnsWrapper:"TodoItem_btnsWrapper__2AAGj",edit:"TodoItem_edit__q74Fp"}},,function(t,e,n){t.exports={listItemEdit:"TodoItemEdit_listItemEdit__2tEqZ",btnsWrapper:"TodoItemEdit_btnsWrapper__2SizE"}},,function(t,e,n){t.exports={listItems:"ListItems_listItems__1hQTa"}},function(t,e,n){t.exports={todoAdd:"TodoAdd_todoAdd__1Y4ni"}},function(t,e,n){t.exports={app:"App_app__2IVvW"}},,,,,function(t,e,n){},,function(t,e,n){"use strict";n.r(e);var c=n(1),o=n.n(c),i=n(10),d=n.n(i),s=(n(18),n(2)),a=n(3),r=n(4),l=o.a.createContext(),u=function(){return Math.floor(Math.random()*Math.floor(99999)).toString()},j={todos:[{id:u(),label:"\u0412\u0456\u0434\u0433\u0443\u043a\u043d\u0443\u0442\u0438\u0441\u044c \u043d\u0430 \u0432\u0430\u043a\u0430\u043d\u0441\u0456\u044e"},{id:u(),label:"\u0412\u0438\u043a\u043e\u043d\u0430\u0442\u0438 \u0442\u0435\u0441\u0442\u043e\u0432\u0435 \u0437\u0430\u0432\u0434\u0430\u043d\u043d\u044f"},{id:u(),label:"Ghfdg \u0442\u0435\u0441\u0442\u043e\u0432\u0435 \u0437\u0430\u0432\u0434\u0430\u043d\u043d\u044f"}]},b=function(t,e){return[].concat(Object(r.a)(t.todos),[Object(a.a)({id:u()},e)])},p=function(t,e){var n=t.todos.findIndex((function(t){return t.id===e.id}));return[].concat(Object(r.a)(t.todos.slice(0,n)),Object(r.a)(t.todos.slice(n+1)))},O=function(t,e){var n=t.todos.findIndex((function(t){return t.id===e.id}));return[].concat(Object(r.a)(t.todos.slice(0,n)),[e],Object(r.a)(t.todos.slice(n+1)))},f=function(t,e){return t.todos.filter((function(t){return!e.includes(t.id)}))},h=function(t,e){switch(e.type){case"add_todo":return{todos:b(t,e.payload)};case"delete_todo":return{todos:p(t,e.payload)};case"change_todo":return{todos:O(t,e.payload)};case"delete_select_todo":return{todos:f(t,e.payload)};default:return t}},x=n(11),_=n.n(x),m=n(0),v=function(){var t=Object(c.useContext)(l),e=t.state,n=t.dispatch,o=Object(c.useState)(""),i=Object(s.a)(o,2),d=i[0],u=i[1],j=Object(c.useState)({open:!1,ids:[]}),b=Object(s.a)(j,2),p=b[0],O=b[1],f=function(t,e){if(e&&O(Object(a.a)(Object(a.a)({},p),{},{ids:[].concat(Object(r.a)(p.ids),[t])})),!e){var n=p.ids.filter((function(e){return e!==t}));O(Object(a.a)(Object(a.a)({},p),{},{ids:n}))}};return Object(m.jsxs)("div",{className:_.a.listItems,children:[e.todos.length>1&&Object(m.jsx)(C,{setSelect:O,select:p,deleteSelect:function(){n({type:"delete_select_todo",payload:p.ids}),O({open:!1,ids:[]})},editTodo:d}),e.todos.map((function(t){return t.id!==d?Object(m.jsx)(E,{item:t,setEditTodo:u,select:p,setSelect:O,changeSelect:f},t.id):Object(m.jsx)(N,{item:t,setEditTodo:u},t.id)}))]})},C=function(t){var e=t.select,n=t.setSelect,c=t.deleteSelect,o=t.editTodo;return e.open?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("button",{onClick:c,children:"Delete"}),Object(m.jsx)("button",{onClick:function(){return n({open:!1,ids:[]})},children:"Close"})]}):Object(m.jsx)("button",{onClick:function(){return n(Object(a.a)(Object(a.a)({},e),{},{open:!0}))},disabled:o,children:"Select"})},g=n(12),I=n.n(g),y=function(){var t=Object(c.useContext)(l).dispatch,e=Object(c.useState)(""),n=Object(s.a)(e,2),o=n[0],i=n[1],d=function(){""!==o&&(t({type:"add_todo",payload:{label:o}}),i(""))};return Object(m.jsxs)("div",{className:I.a.todoAdd,children:[Object(m.jsx)("input",{type:"text",value:o,onChange:function(t){return i(t.target.value)},onKeyUp:function(t){return"Enter"===t.key&&d()}}),Object(m.jsx)("button",{onClick:function(){return d()},children:"Add"})]})},S=n(7),k=n.n(S),E=function(t){var e=t.item,n=e.id,o=e.label,i=t.setEditTodo,d=t.select,a=t.changeSelect,r=Object(c.useContext)(l).dispatch,u=Object(c.useState)(!1),j=Object(s.a)(u,2),b=j[0],p=j[1];return Object(c.useEffect)((function(){a(n,b)}),[b]),Object(m.jsxs)("div",{className:"".concat(k.a.listItem," ").concat(d.open&&k.a.edit),onClick:function(){return d.open&&p(!b)},children:[d.open&&Object(m.jsx)("input",{type:"checkbox",checked:b,onChange:function(t){return p(t.target.checked)}}),Object(m.jsx)("p",{children:o}),!d.open&&Object(m.jsxs)("div",{className:k.a.btnsWrapper,children:[Object(m.jsx)("button",{onClick:function(){return i(n)},children:"Edit"}),Object(m.jsx)("button",{onClick:function(){r({type:"delete_todo",payload:{id:n}})},children:"X"})]})]})},T=n(9),A=n.n(T),N=function(t){var e=t.item,n=e.id,o=e.label,i=t.setEditTodo,d=Object(c.useContext)(l).dispatch,a=Object(c.useState)(o),r=Object(s.a)(a,2),u=r[0],j=r[1];return Object(m.jsxs)("div",{className:A.a.listItemEdit,children:[Object(m.jsx)("input",{type:"text",value:u,onChange:function(t){return j(t.target.value)}}),Object(m.jsxs)("div",{className:A.a.btnsWrapper,children:[Object(m.jsx)("button",{onClick:function(){return i("")},children:"Close"}),Object(m.jsx)("button",{onClick:function(){d({type:"change_todo",payload:{id:n,label:u}}),i("")},children:"Save"})]})]})},W=n(13),F=n.n(W),M=function(){var t=Object(c.useReducer)(h,j),e=Object(s.a)(t,2),n=e[0],o=e[1];return Object(m.jsx)(l.Provider,{value:{dispatch:o,state:n},children:Object(m.jsxs)("div",{className:F.a.app,children:[Object(m.jsx)(y,{}),Object(m.jsx)(v,{})]})})},w=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,21)).then((function(e){var n=e.getCLS,c=e.getFID,o=e.getFCP,i=e.getLCP,d=e.getTTFB;n(t),c(t),o(t),i(t),d(t)}))};d.a.render(Object(m.jsx)(o.a.StrictMode,{children:Object(m.jsx)(M,{})}),document.getElementById("root")),w()}],[[20,1,2]]]);
//# sourceMappingURL=main.55995c4c.chunk.js.map